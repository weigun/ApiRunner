name: suits
require: 
  - &create_user \testcase\components\signup_case.yaml

module: 
  host: http://depay-test.ixbow.com/
  def: #入参
    email: "${gen_email()}"

  steps: # just like step by step when use debug
    - node: 
        desc: new user a
        ref: user1
        exec: *create_user
        args: &args
          email: "${email}"
        hooks: 
          beforeRequest: encrypt
          afterResponse: decrypt
        retry: 3 #失败重试次数
        repeat: 10  #该步骤重复执行多少次,如果有export，只会导出最后一次的结果

    - node: 
        desc: new user b
        ref: user2
        exec: *create_user
        args: &args
          email: "${refs.user1.login.ret_email}"
        hooks: 
          beforeRequest: encrypt
          afterResponse: decrypt
        retry: 3 #失败重试次数
        repeat: 10  #该步骤重复执行多少次,如果有export，只会导出最后一次的结果
































